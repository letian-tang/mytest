导致共享变量在线程间不可见的原因                                                                                            synchronized 
1：线程的交叉执行                                                                                                             -->     原子性，获得锁只能一个线程访问
2：重排序结合线程交叉执行                                                                                         -->     原子性     避免了线程交叉执行（就是单线程执行synchronize中的代码），所以按照重排序规则，
                                                                                                                                                                             无乱怎么重排序，单线程执行都不会对结果产生影响
3：共享变量更新后的值没有在工作内存和主内存中及时更新                  -->     可见性



volatile 只能保证变量的可见性，不能保证变量的原子性
1:对变量的写入操作不能依赖其当前值
     不满足： number++、count = count*5 等
     满足：boolean变量、记录温度变化的变量等

2：该变量没有包含在具有其他变量的不变式中
   比如有2个volatile变量
      不满足：不变式 low < up
      
      
      每个线程执行时将会把局部变量放在各自栈帧的工作内存中，线程间不共享，故不存在线程安全问题。
   
   